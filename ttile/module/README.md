# Module

When you compile with tvm.build you create a Module. With this Module you can export and load a dynamic library (.so) but you can also export and load a kernel for OpenCL.

### To export a library
```python
func = tvm.build(s, [A, W, B], target)

# export conv_mppa.so
func.export_library("conv_mppa.so")
```

### To save the kernel

```python
func = tvm.build(s, [A, W, B], target)
# save the kernel
func.imported_modules[0].save("kernel_nhwc1.cl")
```

### To load the library 

```python
# Load the library .so 
func = tvm.runtime.load_module("conv2d.so")
```

### To load one kernel

```python
# Load the kernel kernel_conv2d.cl and import the kernel
loaded_lib = tvm.runtime.load_module("kernel_conv2d.cl")
func.import_module(loaded_lib)
```

### Build a function and load your own kernel

In order to simplify the replacement of the kernel, I created build_ttile which builds our function without adding the kernel generated by TVM, which allows us to add our own kernel.

```python
func = tvm.build_ttile(s, [A, W, B], target)
# Load the kernel kernel_conv2d.cl and import the kernel
loaded_lib = tvm.runtime.load_module("kernel_conv2d.cl")
func.import_module(loaded_lib)
```
